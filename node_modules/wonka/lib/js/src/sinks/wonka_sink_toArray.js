'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var Wonka_helpers = require("../wonka_helpers.js");

function toArray(source) {
  var state = /* record */[
    /* values */new Array(),
    /* talkback */Wonka_helpers.talkbackPlaceholder,
    /* value */undefined,
    /* ended */false
  ];
  Curry._1(source, (function (signal) {
          if (typeof signal === "number") {
            state[/* ended */3] = true;
            return /* () */0;
          } else if (signal.tag) {
            state[/* values */0].push(signal[0]);
            return state[/* talkback */1](/* Pull */0);
          } else {
            var x = signal[0];
            state[/* talkback */1] = x;
            return x(/* Pull */0);
          }
        }));
  if (!state[/* ended */3]) {
    state[/* talkback */1](/* Close */1);
  }
  return state[/* values */0];
}

exports.toArray = toArray;
/* No side effect */
